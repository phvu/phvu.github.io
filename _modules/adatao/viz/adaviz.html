<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>adatao.viz.adaviz &mdash; PyClient 0.3.0 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="PyClient 0.3.0 documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">PyClient 0.3.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for adatao.viz.adaviz</h1><div class="highlight"><pre>
<span class="kn">from</span> <span class="nn">renderers</span> <span class="kn">import</span> <span class="n">Renderer</span><span class="p">,</span> <span class="n">HtmlRenderer</span><span class="p">,</span> <span class="n">LocalBrowserRenderer</span><span class="p">,</span> <span class="n">NarrativesRenderer</span>
<span class="kn">import</span> <span class="nn">json</span>


<span class="n">_renderer</span> <span class="o">=</span> <span class="n">NarrativesRenderer</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">_set_renderer</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Renderer</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&#39;Expect a child type of Renderer&#39;</span><span class="p">)</span>
    <span class="k">global</span> <span class="n">_renderer</span>
    <span class="n">_renderer</span> <span class="o">=</span> <span class="n">value</span>


<div class="viewcode-block" id="set_renderer_mode"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.set_renderer_mode">[docs]</a><span class="k">def</span> <span class="nf">set_renderer_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set renderer used for the whole library</span>
<span class="sd">    :param mode: &#39;narratives&#39;, &#39;browser&#39;, &#39;html&#39;</span>
<span class="sd">        - **narratives**: output a json string, intended to be used inside Narratives</span>
<span class="sd">        - **browser**: open a new browser window showing the plot</span>
<span class="sd">        - **html**: write the output to a HTML file stored in a directory given in the `output_dir` parameter.</span>
<span class="sd">    :param kwargs: additional options</span>
<span class="sd">    If mode = &#39;html&#39;, an option is &#39;output_dir&#39;, specifying</span>
<span class="sd">    a local path where the output HTML files will be written.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">modes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;narratives&#39;</span><span class="p">,</span> <span class="s">&#39;browser&#39;</span><span class="p">,</span> <span class="s">&#39;html&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">modes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&#39;Supported renderer mode: &#39;</span> <span class="o">+</span> <span class="s">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">modes</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="n">modes</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">_set_renderer</span><span class="p">(</span><span class="n">NarrativesRenderer</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="n">modes</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">_set_renderer</span><span class="p">(</span><span class="n">LocalBrowserRenderer</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_set_renderer</span><span class="p">(</span><span class="n">HtmlRenderer</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>

</div>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Helper method</span>
<span class="sd">&quot;&quot;&quot;</span>


<span class="k">def</span> <span class="nf">_render</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">theme</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;input&#39;</span><span class="p">:</span> <span class="n">options</span><span class="p">,</span>
              <span class="s">&#39;data&#39;</span><span class="p">:</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s">&#39;records&#39;</span><span class="p">)),</span>
              <span class="s">&#39;theme&#39;</span><span class="p">:</span> <span class="n">theme</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">_renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>


<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">API functions</span>
<span class="sd">&quot;&quot;&quot;</span>


<div class="viewcode-block" id="series"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.series">[docs]</a><span class="k">def</span> <span class="nf">series</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="n">subtype</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">category2</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
           <span class="n">grouped</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">histogram</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Working function to plot area, bar, dot and line charts. Those can also be grouped or stacked.</span>
<span class="sd">    The multiple bar chart actually uses a dedicated function, as it has specific spacing requirements.</span>
<span class="sd">    It is possible to create a grouped bar chart and a stacked bar chart by</span>
<span class="sd">    setting the chart type as &quot;bar.grouped&quot; and &quot;bar.stacked&quot; respectively.</span>

<span class="sd">    It is also possible to set a &quot;grouped&quot; or a &quot;stacked&quot; flag to true.</span>
<span class="sd">    There is also a possible &quot;bar.histogram&quot; chart type (which is not currently used),</span>
<span class="sd">    and a &quot;histogram&quot; flag that can be set to true.</span>

<span class="sd">    :param data: a pandas DataFrame</span>
<span class="sd">    :param category: indicates which field of the dataset will be used as a dimension</span>
<span class="sd">        to plot the bars - this is the other axis relative to measurement.</span>
<span class="sd">    :param measurement: indicates which field of the dataset will be used as a</span>
<span class="sd">        numerical measure - that will dictate the length of the bars.</span>
<span class="sd">    :param subtype: (optional) if this is set to &quot;area&quot;, &quot;dot&quot; or &quot;line&quot;, this creates an area chart,</span>
<span class="sd">        dot chart or line chart, respectively. By default, this is blank and creates a bar chart.</span>
<span class="sd">    :param category2: (optional) is how to group the bars in case of stacked or grouped bars,</span>
<span class="sd">        and what is used for the legend.</span>
<span class="sd">    :param grouped: (optional) makes a grouped chart. i.e. for each category, there will be a cluster of bars.</span>
<span class="sd">    :param stacked: (optional) makes a stacked chart. i.e. for each category,</span>
<span class="sd">            there will be a column of rectangles, each starting from the end of the previous one.</span>
<span class="sd">            While this supports negative value, this mode is not recommended for data with mixed signs.</span>
<span class="sd">    :param histogram: (optional) makes a distribution histogram.</span>
<span class="sd">    :param kwargs: optional arguments</span>
<span class="sd">        - **canResize**: (optional) this is for horizontal bar charts.</span>
<span class="sd">            If this is omitted or set to false, in the case there are too many rows to be displayed properly,</span>
<span class="sd">            they will be dropped from the display. If this is set to true,</span>
<span class="sd">            the chart will expand in height to accommodate all the rows.</span>
<span class="sd">        - **columnXTitle**: (optional) provides a title for the X axis.</span>
<span class="sd">        - **columnYTitle**: (optional) provides a title for the Y axis.</span>
<span class="sd">        - **fixedHeight**: (optional) specifies a maximum height for the bottom of the chart.</span>
<span class="sd">            If labels are too tall or too long, they will be chopped.</span>
<span class="sd">        - **fixedWidth**: (optional) specifies a maximum width for the left of the chart.</span>
<span class="sd">            If labels are too long, they will be chopped.</span>
<span class="sd">        - **title**: (optional) provides a title for the chart.</span>
<span class="sd">        - **maxCat**: (optional) specifies the maximum number of series.</span>
<span class="sd">            If &quot;category2&quot; has more different values than this, the extra values will be aggregated as one series.</span>
<span class="sd">            To show all series, pass &quot;all&quot;</span>
<span class="sd">    :return: depends on the renderer mode</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;series&#39;</span><span class="p">,</span>
                   <span class="s">&#39;category&#39;</span><span class="p">:</span> <span class="n">category</span><span class="p">,</span>
                   <span class="s">&#39;measurement&#39;</span><span class="p">:</span> <span class="n">measurement</span><span class="p">,</span>
                   <span class="s">&#39;subtype&#39;</span><span class="p">:</span> <span class="n">subtype</span><span class="p">,</span>
                   <span class="s">&#39;category2&#39;</span><span class="p">:</span> <span class="n">category2</span><span class="p">,</span>
                   <span class="s">&#39;grouped&#39;</span><span class="p">:</span> <span class="n">grouped</span><span class="p">,</span>
                   <span class="s">&#39;stacked&#39;</span><span class="p">:</span> <span class="n">stacked</span><span class="p">,</span>
                   <span class="s">&#39;histogram&#39;</span><span class="p">:</span> <span class="n">histogram</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">_render</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="bar_chart"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.bar_chart">[docs]</a><span class="k">def</span> <span class="nf">bar_chart</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="n">category2</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">grouped</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw bar charts, including stacked, grouped or histogram bar charts</span>
<span class="sd">    :param data: a pandas DataFrame</span>
<span class="sd">    :param category: indicates which field of the dataset will be used as a dimension to plot the bars,</span>
<span class="sd">        this is the other axis relative to measurement.</span>
<span class="sd">    :type category: str or unicode</span>
<span class="sd">    :param measurements: indicates which field of the dataset will be used as a numerical measure,</span>
<span class="sd">        that will dictate the length of the bars.</span>
<span class="sd">    :type measurements: str or unicode</span>
<span class="sd">    :param category2: (optional) is how to group the bars in case of stacked or grouped bars,</span>
<span class="sd">        and what is used for the legend.</span>
<span class="sd">    :param grouped: (optional) makes a grouped chart. i.e. for each category, there will be a cluster of bars.</span>
<span class="sd">    :param stacked: (optional) makes a stacked chart. i.e. for each category,</span>
<span class="sd">            there will be a column of rectangles, each starting from the end of the previous one.</span>
<span class="sd">            While this supports negative value, this mode is not recommended for data with mixed signs.</span>
<span class="sd">    :param kwargs: additional options:</span>
<span class="sd">        - **regroup**: (True/False) allowing to regroup if there are too many categories</span>
<span class="sd">        - **title**: provides a title for the chart.</span>
<span class="sd">        - **columnXTitle**: provides a title for the X axis.</span>
<span class="sd">        - **columnYTitle**: provides a title for the Y axis.</span>
<span class="sd">        - **fixedHeight**: (optional) specifies a maximum height for the bottom of the chart.</span>
<span class="sd">         If labels are too tall or too long, they will be chopped.</span>
<span class="sd">        - **fixedWidth**: (optional) specifies a maximum width for the left of the chart.</span>
<span class="sd">        If labels are too long, they will be chopped.</span>
<span class="sd">        - **maxCat**: (optional) specifies the maximum number of series.</span>
<span class="sd">        If &quot;category2&quot; has more different values than this, the extra values will be aggregated as one series.</span>
<span class="sd">        To show all series, pass &quot;all&quot;</span>
<span class="sd">        - **canResize**: (optional) this is for horizontal bar charts.</span>
<span class="sd">        If this is omitted or set to false, in the case there are too many rows to be displayed properly,</span>
<span class="sd">        they will be dropped from the display. If this is set to true,</span>
<span class="sd">        the chart will expand in height to accommodate all the rows.</span>
<span class="sd">    :return: depend on the render mode.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">series</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">,</span> <span class="n">category2</span><span class="p">,</span>
                  <span class="n">grouped</span><span class="p">,</span> <span class="n">stacked</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="line_chart"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.line_chart">[docs]</a><span class="k">def</span> <span class="nf">line_chart</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="n">category2</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
               <span class="n">grouped</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw line charts</span>
<span class="sd">    :param data: a pandas DataFrame</span>
<span class="sd">    :param category: indicates which field of the dataset will be used as a dimension to plot the bars,</span>
<span class="sd">        this is the other axis relative to measurement.</span>
<span class="sd">    :type category: str or unicode</span>
<span class="sd">    :param measurements: indicates which field of the dataset will be used as a numerical measure,</span>
<span class="sd">        that will dictate the length of the bars.</span>
<span class="sd">    :type measurements: str or unicode</span>
<span class="sd">    :param category2: (optional) is how to group the bars in case of stacked or grouped bars,</span>
<span class="sd">        and what is used for the legend.</span>
<span class="sd">    :param grouped: (optional) makes a grouped chart. i.e. for each category, there will be a cluster of bars.</span>
<span class="sd">    :param stacked: (optional) makes a stacked chart. i.e. for each category,</span>
<span class="sd">            there will be a column of rectangles, each starting from the end of the previous one.</span>
<span class="sd">            While this supports negative value, this mode is not recommended for data with mixed signs.</span>
<span class="sd">    :param kwargs: additional options:</span>
<span class="sd">        - **regroup**: (True/False) allowing to regroup if there are too many categories</span>
<span class="sd">        - **title**: provides a title for the chart.</span>
<span class="sd">        - **columnXTitle**: provides a title for the X axis.</span>
<span class="sd">        - **columnYTitle**: provides a title for the Y axis.</span>
<span class="sd">        - **fixedHeight**: (optional) specifies a maximum height for the bottom of the chart.</span>
<span class="sd">         If labels are too tall or too long, they will be chopped.</span>
<span class="sd">        - **fixedWidth**: (optional) specifies a maximum width for the left of the chart.</span>
<span class="sd">        If labels are too long, they will be chopped.</span>
<span class="sd">        - **maxCat**: (optional) specifies the maximum number of series.</span>
<span class="sd">        If &quot;category2&quot; has more different values than this, the extra values will be aggregated as one series.</span>
<span class="sd">        To show all series, pass &quot;all&quot;</span>
<span class="sd">        - **canResize**: (optional) this is for horizontal bar charts.</span>
<span class="sd">        If this is omitted or set to false, in the case there are too many rows to be displayed properly,</span>
<span class="sd">        they will be dropped from the display. If this is set to true,</span>
<span class="sd">        the chart will expand in height to accommodate all the rows.</span>
<span class="sd">    :return: depend on the render mode.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">series</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="s">&#39;line&#39;</span><span class="p">,</span> <span class="n">category2</span><span class="p">,</span>
                  <span class="n">grouped</span><span class="p">,</span> <span class="n">stacked</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="area_chart"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.area_chart">[docs]</a><span class="k">def</span> <span class="nf">area_chart</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="n">category2</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
               <span class="n">grouped</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw area charts</span>
<span class="sd">    :param data: a pandas DataFrame</span>
<span class="sd">    :param category: indicates which field of the dataset will be used as a dimension to plot the bars,</span>
<span class="sd">        this is the other axis relative to measurement.</span>
<span class="sd">    :type category: str or unicode</span>
<span class="sd">    :param measurements: indicates which field of the dataset will be used as a numerical measure,</span>
<span class="sd">        that will dictate the length of the bars.</span>
<span class="sd">    :type measurements: str or unicode</span>
<span class="sd">    :param category2: (optional) is how to group the bars in case of stacked or grouped bars,</span>
<span class="sd">        and what is used for the legend.</span>
<span class="sd">    :param grouped: (optional) makes a grouped chart. i.e. for each category, there will be a cluster of bars.</span>
<span class="sd">    :param stacked: (optional) makes a stacked chart. i.e. for each category,</span>
<span class="sd">            there will be a column of rectangles, each starting from the end of the previous one.</span>
<span class="sd">            While this supports negative value, this mode is not recommended for data with mixed signs.</span>
<span class="sd">    :param kwargs: additional options:</span>
<span class="sd">        - **regroup**: (True/False) allowing to regroup if there are too many categories</span>
<span class="sd">        - **title**: provides a title for the chart.</span>
<span class="sd">        - **columnXTitle**: provides a title for the X axis.</span>
<span class="sd">        - **columnYTitle**: provides a title for the Y axis.</span>
<span class="sd">        - **fixedHeight**: (optional) specifies a maximum height for the bottom of the chart.</span>
<span class="sd">         If labels are too tall or too long, they will be chopped.</span>
<span class="sd">        - **fixedWidth**: (optional) specifies a maximum width for the left of the chart.</span>
<span class="sd">        If labels are too long, they will be chopped.</span>
<span class="sd">        - **maxCat**: (optional) specifies the maximum number of series.</span>
<span class="sd">        If &quot;category2&quot; has more different values than this, the extra values will be aggregated as one series.</span>
<span class="sd">        To show all series, pass &quot;all&quot;</span>
<span class="sd">        - **canResize**: (optional) this is for horizontal bar charts.</span>
<span class="sd">        If this is omitted or set to false, in the case there are too many rows to be displayed properly,</span>
<span class="sd">        they will be dropped from the display. If this is set to true,</span>
<span class="sd">        the chart will expand in height to accommodate all the rows.</span>
<span class="sd">    :return: depend on the render mode.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">series</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="s">&#39;area&#39;</span><span class="p">,</span> <span class="n">category2</span><span class="p">,</span>
                  <span class="n">grouped</span><span class="p">,</span> <span class="n">stacked</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="dot_chart"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.dot_chart">[docs]</a><span class="k">def</span> <span class="nf">dot_chart</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="n">category2</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
              <span class="n">grouped</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw area charts</span>
<span class="sd">    :param data: a pandas DataFrame</span>
<span class="sd">    :param category: indicates which field of the dataset will be used as a dimension to plot the bars,</span>
<span class="sd">        this is the other axis relative to measurement.</span>
<span class="sd">    :type category: str or unicode</span>
<span class="sd">    :param measurements: indicates which field of the dataset will be used as a numerical measure,</span>
<span class="sd">        that will dictate the length of the bars.</span>
<span class="sd">    :type measurements: str or unicode</span>
<span class="sd">    :param category2: (optional) is how to group the bars in case of stacked or grouped bars,</span>
<span class="sd">        and what is used for the legend.</span>
<span class="sd">    :param grouped: (optional) makes a grouped chart. i.e. for each category, there will be a cluster of bars.</span>
<span class="sd">    :param stacked: (optional) makes a stacked chart. i.e. for each category,</span>
<span class="sd">            there will be a column of rectangles, each starting from the end of the previous one.</span>
<span class="sd">            While this supports negative value, this mode is not recommended for data with mixed signs.</span>
<span class="sd">    :param kwargs: additional options:</span>
<span class="sd">        - **regroup**: (True/False) allowing to regroup if there are too many categories</span>
<span class="sd">        - **title**: provides a title for the chart.</span>
<span class="sd">        - **columnXTitle**: provides a title for the X axis.</span>
<span class="sd">        - **columnYTitle**: provides a title for the Y axis.</span>
<span class="sd">        - **fixedHeight**: (optional) specifies a maximum height for the bottom of the chart.</span>
<span class="sd">         If labels are too tall or too long, they will be chopped.</span>
<span class="sd">        - **fixedWidth**: (optional) specifies a maximum width for the left of the chart.</span>
<span class="sd">        If labels are too long, they will be chopped.</span>
<span class="sd">        - **maxCat**: (optional) specifies the maximum number of series.</span>
<span class="sd">        If &quot;category2&quot; has more different values than this, the extra values will be aggregated as one series.</span>
<span class="sd">        To show all series, pass &quot;all&quot;</span>
<span class="sd">        - **canResize**: (optional) this is for horizontal bar charts.</span>
<span class="sd">        If this is omitted or set to false, in the case there are too many rows to be displayed properly,</span>
<span class="sd">        they will be dropped from the display. If this is set to true,</span>
<span class="sd">        the chart will expand in height to accommodate all the rows.</span>
<span class="sd">    :return: depend on the render mode.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">series</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="s">&#39;dot&#39;</span><span class="p">,</span> <span class="n">category2</span><span class="p">,</span>
                  <span class="n">grouped</span><span class="p">,</span> <span class="n">stacked</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="histogram"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.histogram">[docs]</a><span class="k">def</span> <span class="nf">histogram</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw area charts</span>
<span class="sd">    :param data: a pandas DataFrame</span>
<span class="sd">    :param category: indicates which field of the dataset will be used as a dimension to plot the bars,</span>
<span class="sd">        this is the other axis relative to measurement.</span>
<span class="sd">    :type category: str or unicode</span>
<span class="sd">    :param kwargs: additional options:</span>
<span class="sd">        - **regroup**: (True/False) allowing to regroup if there are too many categories</span>
<span class="sd">        - **title**: provides a title for the chart.</span>
<span class="sd">        - **columnXTitle**: provides a title for the X axis.</span>
<span class="sd">        - **columnYTitle**: provides a title for the Y axis.</span>
<span class="sd">        - **fixedHeight**: (optional) specifies a maximum height for the bottom of the chart.</span>
<span class="sd">         If labels are too tall or too long, they will be chopped.</span>
<span class="sd">        - **fixedWidth**: (optional) specifies a maximum width for the left of the chart.</span>
<span class="sd">        If labels are too long, they will be chopped.</span>
<span class="sd">        - **maxCat**: (optional) specifies the maximum number of series.</span>
<span class="sd">        If &quot;category2&quot; has more different values than this, the extra values will be aggregated as one series.</span>
<span class="sd">        To show all series, pass &quot;all&quot;</span>
<span class="sd">        - **canResize**: (optional) this is for horizontal bar charts.</span>
<span class="sd">        If this is omitted or set to false, in the case there are too many rows to be displayed properly,</span>
<span class="sd">        they will be dropped from the display. If this is set to true,</span>
<span class="sd">        the chart will expand in height to accommodate all the rows.</span>
<span class="sd">    :return: depend on the render mode.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">series</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">,</span> <span class="n">category2</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                  <span class="n">grouped</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">histogram</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="pie_chart"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.pie_chart">[docs]</a><span class="k">def</span> <span class="nf">pie_chart</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="n">donut</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw a pie or dunut chart.</span>
<span class="sd">    :param data: a pandas&#39; DataFrame</span>
<span class="sd">    :param category: indicates how the slices are grouped.</span>
<span class="sd">    :param measurement: what field of the dataset will be used as a numerical measure.</span>
<span class="sd">        Each slice of the pie will represent a share of a sum of that total.</span>
<span class="sd">    :param donut: whether or not to draw a donut chart instead of pie chart</span>
<span class="sd">    :param kwargs: additional options:</span>
<span class="sd">        - **regroup**: (True/False) allowing to regroup if there are too many categories</span>
<span class="sd">        - **title**: provides a title for the chart.</span>
<span class="sd">        - **maxCat**: (optional) specifies the maximum number of series.</span>
<span class="sd">        If &quot;category&quot; has more different values than this,</span>
<span class="sd">        the extra values will be aggregated as one series. To show all series, pass &quot;all&quot;</span>
<span class="sd">        - **label**: (optional) determines what will be shown next to the slices.</span>
<span class="sd">        &quot;percentage&quot; (the default) is a rounded value of the percentage of the total that each slice represents.</span>
<span class="sd">        Other possibilities are value (the actual value, &quot;autorounded&quot;) and category (the name of the series).</span>
<span class="sd">    :return: depends on the renderer mode</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;pie&#39;</span><span class="p">,</span>
                   <span class="s">&#39;category&#39;</span><span class="p">:</span> <span class="n">category</span><span class="p">,</span>
                   <span class="s">&#39;measurement&#39;</span><span class="p">:</span> <span class="n">measurement</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">donut</span><span class="p">:</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;donut&#39;</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;donut&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="n">_render</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="scatterplot"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.scatterplot">[docs]</a><span class="k">def</span> <span class="nf">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw a scatter plot</span>
<span class="sd">    :param data: a pandas&#39; DataFrame</span>
<span class="sd">    :param category: what field of the dataset will be used as a numerical measure for the X axis.</span>
<span class="sd">    :param measurement: what field of the dataset will be used as a numerical measure for the Y axis.</span>
<span class="sd">    :param kwargs: additional options:</span>
<span class="sd">        - **title**: provides a title for the chart.</span>
<span class="sd">        - **category2**: (optional) what field of the dataset can be used to distinguish</span>
<span class="sd">        groups of records by color, and is used for the legend.</span>
<span class="sd">        - **maxCat**: (optional) specifies the maximum number of series.</span>
<span class="sd">        If &quot;category2&quot; has more different values than this, the extra values will be aggregated as one series.</span>
<span class="sd">        To show all series, pass &quot;all&quot;</span>
<span class="sd">        - **jitter**: (optional) specifies whether there should be jitter,</span>
<span class="sd">        i.e. random noise added to points that happen to have the same value for one of their dimensions.</span>
<span class="sd">        Jitter takes a numerical value - the proportion of the charting area that could be added to such a dimension.</span>
<span class="sd">        The default is .01 (which means that dots affected by jitter could be off by 1% from their original position).</span>
<span class="sd">        Mouseover will reveal the original value of the dots, regardless of jitter.</span>
<span class="sd">        To deactivate the effect, pass 0 to the parameter.</span>
<span class="sd">    :return: depending on the renderer mode</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;scatterplot&#39;</span><span class="p">,</span>
                   <span class="s">&#39;category&#39;</span><span class="p">:</span> <span class="n">category</span><span class="p">,</span>
                   <span class="s">&#39;measurement&#39;</span><span class="p">:</span> <span class="n">measurement</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">_render</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="bubble_chart"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.bubble_chart">[docs]</a><span class="k">def</span> <span class="nf">bubble_chart</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Bubble is a function dedicated to rendering bubble charts and scatterplots.</span>

<span class="sd">    :param category: what field of the dataset will be used as a numerical measure for the X axis.</span>
<span class="sd">    :param measurement: what field of the dataset will be used as a numerical measure for the Y axis.</span>
<span class="sd">    :param category2: (optional) what field of the dataset can be used to distinguish groups of records by color,</span>
<span class="sd">    and is used for the legend.</span>
<span class="sd">    :param maxCat: (optional) specifies the maximum number of series.</span>
<span class="sd">    If &quot;category2&quot; has more different values than this, the extra values will be aggregated as one series.</span>
<span class="sd">    To show all series, pass &quot;all&quot;</span>
<span class="sd">    :param jitter: (optional) specifies whether there should be jitter,</span>
<span class="sd">    ie random noise added to points that happen to have the same value for one of their dimensions.</span>
<span class="sd">    Jitter takes a numerical value - the proportion of the charting area that could be added to such a dimension.</span>
<span class="sd">    The default is .01 (which means that dots affected by jitter could be off by 1% from their original position).</span>
<span class="sd">    Mouseover will reveal the original value of the dots, regardless of jitter.</span>
<span class="sd">    To deactivate the effect, pass 0 to the parameter.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;bubble&#39;</span><span class="p">,</span>
                   <span class="s">&#39;category&#39;</span><span class="p">:</span> <span class="n">category</span><span class="p">,</span>
                   <span class="s">&#39;measurement&#39;</span><span class="p">:</span> <span class="n">measurement</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">_render</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="heat_map"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.heat_map">[docs]</a><span class="k">def</span> <span class="nf">heat_map</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">category2</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw a heatmap, that is, the distribution of a value according to two categorical dimensions.</span>
<span class="sd">    :param data: a pandas DataFrame</span>
<span class="sd">    :param category: see `category2`</span>
<span class="sd">    :param category2: `category` and `category2` indicate which fields of the dataset will be used as</span>
<span class="sd">        dimensions to create the grid of the heatmap. The variable with the highest number of unique values</span>
<span class="sd">        will be used as the down variable, the one with the fewest unique values will be used across.</span>
<span class="sd">    :param measurement: indicates which field of the dataset will be used as a numerical measure - that</span>
<span class="sd">        will affect the color of the cells of the heatmap.</span>
<span class="sd">    :param kwargs: additional options:</span>
<span class="sd">        - **title**: provides a title for the chart.</span>
<span class="sd">        - **canResize**: whether AdaViz is allowed to change the height or width of the chart</span>
<span class="sd">        if it can&#39;t fit a legible heatmap. If set to false, rows which cannot be displayed will be chopped.</span>
<span class="sd">        There is currently no implemented restriction or resizing in terms of numbers columns across,</span>
<span class="sd">        so overlapping may happen at some point.</span>
<span class="sd">    :return:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;heatmap&#39;</span><span class="p">,</span>
                   <span class="s">&#39;category&#39;</span><span class="p">:</span> <span class="n">category</span><span class="p">,</span>
                   <span class="s">&#39;measurement&#39;</span><span class="p">:</span> <span class="n">measurement</span><span class="p">,</span>
                   <span class="s">&#39;category2&#39;</span><span class="p">:</span> <span class="n">category2</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">_render</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="multiple_bar_chart"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.multiple_bar_chart">[docs]</a><span class="k">def</span> <span class="nf">multiple_bar_chart</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">category2</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handle the small multiples situation for bar charts.</span>
<span class="sd">    In other terms, multiple bars draws several &quot;mini-charts&quot; in the space of a regular chart.</span>
<span class="sd">    Most of its functionality is dedicated to fit as many mini charts as needed in that space,</span>
<span class="sd">    utilize that space as well as possible, and if the charts can fit, and if it is allowed to do so,</span>
<span class="sd">    expand the space of the chart to fit everything. If multiple bars isn&#39;t allowed to expand,</span>
<span class="sd">    it chooses the most relevant data to display.</span>

<span class="sd">    **How the multiple bars work**:</span>
<span class="sd">    First it determines how many mini charts it can fit horizontally, based on label lengths and `minChartWidth`.</span>
<span class="sd">    Then, it determines how many charts it can fit vertically, based on `minChartHeight`, number of rows per chart,</span>
<span class="sd">    label heights, spacing etc. If it cannot fit all mini charts, it will drop rows of the mini charts to</span>
<span class="sd">    reduce them to their minChartHeight.</span>

<span class="sd">    For instance, if the minChartHeight is 100, and a row needs 16 pixels, it will drop any row after the 6th.</span>
<span class="sd">    Then, it will only fit as many mini charts as possible.</span>
<span class="sd">    However, once that max number of mini charts has been reached, if there is still space available at the bottom,</span>
<span class="sd">    it will try to get those dropped rows back. If the chart is allowed to expand, then its height will increase</span>
<span class="sd">    to fit all minicharts and all rows.</span>
<span class="sd">    :param data: a pandas DataFrame</span>
<span class="sd">    :param category: indicates which field of the dataset will be used as a dimension to plot the</span>
<span class="sd">        bars - this is the other axis relative to measurement.</span>
<span class="sd">    :param category2: indicates which field of the dataset will be used to group the bars in distinct mini charts.</span>
<span class="sd">    :param measurement: indicates which field of the dataset will be used as a numerical measure - that</span>
<span class="sd">        will dictate the length of the bars.</span>
<span class="sd">    :param kwargs: additional options:</span>
<span class="sd">        - **title**: provides a title for the chart.</span>
<span class="sd">        - **minChartWidth** indicates the minimum width for the charts in pixels.</span>
<span class="sd">        When resized, the charts can go up and down in width, but they won&#39;t get under minChartWidth,</span>
<span class="sd">        which is set by default to 100.</span>
<span class="sd">        - **minChartHeight** indicates the minimum height for the charts in pixels.</span>
<span class="sd">        When resized, the charts can go up and down in height, but they won&#39;t get under minChartHeight,</span>
<span class="sd">        which is set by default to 100.</span>
<span class="sd">        - **canResize**: (True/False) whether the chart is allowed to expand vertically or</span>
<span class="sd">        whether it must try to fit everything in a fixed space.</span>
<span class="sd">    :return: depending on the renderer mode</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;multiples.bar&#39;</span><span class="p">,</span>
                   <span class="s">&#39;measurement&#39;</span><span class="p">:</span> <span class="n">measurement</span><span class="p">,</span>
                   <span class="s">&#39;category&#39;</span><span class="p">:</span> <span class="n">category</span><span class="p">,</span>
                   <span class="s">&#39;category2&#39;</span><span class="p">:</span> <span class="n">category2</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">_render</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="box_plot"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.box_plot">[docs]</a><span class="k">def</span> <span class="nf">box_plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Boxplot creates box plot charts. It requires one or two category fields, and one measurement field.</span>
<span class="sd">    There are two ways to invoke the charttype function - either with a category / measurement field couple,</span>
<span class="sd">    in which case the client will do the aggregation,</span>
<span class="sd">    or by specifying the quartiles, median, and possibly minimum and maximum.</span>
<span class="sd">    In that case aggregation happens before plotting ie at the server level.</span>

<span class="sd">    Here are the parameters in input that have an impact on boxplot.</span>

<span class="sd">    :param category: (required) field used to group the records before examining their distribution.</span>
<span class="sd">    Controls the name of the columns.</span>
<span class="sd">    :param category2: (optional) field used to group the records before examining their distribution.</span>
<span class="sd">    Controles the colors and name of the series.</span>
<span class="sd">    :param crossbar: (optional) if set to true, only the quartiles and medians are shown,</span>
<span class="sd">    there won&#39;t be whiskers to minimum or maximum.</span>
<span class="sd">    :param dots: (optional) if set to true, dots for each of the actual record will be plotted.</span>
<span class="sd">    :param max: (optional) specifies the name of the field where to find the maximum value of a column.</span>
<span class="sd">    :param measurement: (required for the client aggregation method)</span>
<span class="sd">    what field of the dataset on which the distribution will be computed.</span>
<span class="sd">    :param median: (required for the server aggregation method) where to find the median value of a column.</span>
<span class="sd">    :param min: (optional) specifies the name of the field where to find the minimum value of a column</span>
<span class="sd">    :param q1: (required for the server aggregation method) where to find the 1st quartile value for a column</span>
<span class="sd">    :param q3: (required for the server aggregation method) where to find the 3rd quartile value for a column</span>
<span class="sd">    :return:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;boxplot&#39;</span><span class="p">,</span>
                   <span class="s">&#39;category&#39;</span><span class="p">:</span> <span class="n">category</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">_render</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="geo_hex_bin"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.geo_hex_bin">[docs]</a><span class="k">def</span> <span class="nf">geo_hex_bin</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw a hexbin overlaying on top of a map.</span>
<span class="sd">    :param data: a pandas DataFrame</span>
<span class="sd">    :param lat: which field of the dataset should be used to retrieve latitude.</span>
<span class="sd">    :param lon: which field of the dataset should be used to retrieve longitude.</span>
<span class="sd">    :param measurement: which field of the dataset should be used to retrieve a value to be represented.</span>
<span class="sd">        This is optional, if nothing is provided, this will be used to count the number of records that exist in a cell.</span>
<span class="sd">    :param kwargs: additional options</span>
<span class="sd">        - **title**: provides a title for the chart.</span>
<span class="sd">        - **center**: array of latitude, longitude values. Center of the map, if not provided,</span>
<span class="sd">        barycenter of the records.</span>
<span class="sd">        - **zoomLevel**: initial zoom level, or 9.</span>
<span class="sd">        - **radius**: radius of the hexagons, or 20 pixels</span>
<span class="sd">        - **opacity**: opacity of the hexagons, or .8.</span>
<span class="sd">        - **tileSource**: url where the tiles are stored.</span>
<span class="sd">        - **operation**: &quot;avg&quot; or &quot;sum&quot; for the measurement.</span>
<span class="sd">        This is optional, if nothing is provided, hexbin will just count the cells.</span>
<span class="sd">    :return: depending on the renderer mode</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;maphexbin&#39;</span><span class="p">,</span>
                   <span class="s">&#39;lat&#39;</span><span class="p">:</span> <span class="n">lat</span><span class="p">,</span> <span class="s">&#39;lon&#39;</span><span class="p">:</span> <span class="n">lon</span><span class="p">,</span>
                   <span class="s">&#39;measurement&#39;</span><span class="p">:</span> <span class="n">measurement</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">_render</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="hex_bin"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.hex_bin">[docs]</a><span class="k">def</span> <span class="nf">hex_bin</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw a hex bin.</span>
<span class="sd">    :param data:</span>
<span class="sd">    :param category:</span>
<span class="sd">    :param measurement:</span>
<span class="sd">    :param kwargs:</span>
<span class="sd">        - **title**: provides a title for the chart.</span>
<span class="sd">    :return:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;hexbin&#39;</span><span class="p">,</span>
                   <span class="s">&#39;category&#39;</span><span class="p">:</span> <span class="n">category</span><span class="p">,</span>
                   <span class="s">&#39;measurement&#39;</span><span class="p">:</span> <span class="n">measurement</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">_render</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="tree_map"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.tree_map">[docs]</a><span class="k">def</span> <span class="nf">tree_map</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">measurement</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw a tree map</span>
<span class="sd">    :param data: a pandas DataFrame</span>
<span class="sd">    :param category: what field of the dataset will be used to split the area</span>
<span class="sd">    :param measurement: what field of the dataset will be used as a numerical measure for the area of each category.</span>
<span class="sd">    :param kwargs: additional options</span>
<span class="sd">        - **category2**: what field of the dataset will be used to group values, on top of the &quot;category&quot; field.</span>
<span class="sd">            Also controls color.</span>
<span class="sd">        - **padding**: (optional) what space should there be around text in the cells.</span>
<span class="sd">            If there&#39;s no space to write text properly, it is not displayed.</span>
<span class="sd">    :return: depending on the renderer mode</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;treemap&#39;</span><span class="p">,</span>
                   <span class="s">&#39;measurement&#39;</span><span class="p">:</span> <span class="n">measurement</span><span class="p">,</span>
                   <span class="s">&#39;category&#39;</span><span class="p">:</span> <span class="n">category</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">_render</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="data_table"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.data_table">[docs]</a><span class="k">def</span> <span class="nf">data_table</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Show a data table</span>
<span class="sd">    :param data: a pandas DataFrame</span>
<span class="sd">    :param kwargs: optional parameters</span>
<span class="sd">    :return: depends on the renderer mode</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;datatable&#39;</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">_render</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="auto_chart"><a class="viewcode-back" href="../../../adatao.viz.html#adatao.viz.adaviz.auto_chart">[docs]</a><span class="k">def</span> <span class="nf">auto_chart</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Automatically pick a suitable chart type</span>
<span class="sd">    :param data: a pandas DataFrame</span>
<span class="sd">    :param kwargs: optional parameters</span>
<span class="sd">    :return: depends on the renderer mode</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;type&#39;</span><span class="p">:</span> <span class="s">&#39;chart&#39;</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">_render</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">PyClient 0.3.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Adatao.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>